<app-nav-bar title="Results"></app-nav-bar>

<div class="big-navigation-gap">
  <div class="route-search-results__route-information center-center">
    <div class="center-center">
      <div>A</div>
      <div>B</div>
    </div>
    <div class="route-search-results__nowrap-hidden center-center">
      <div>{{ routeS.getMainFrom(route) }}</div>
      <div>{{ routeS.getMainTo(route) }}</div>
    </div>
    <div class="center-center">
      <span (click)="handleBackToSearchClick()">
        <fa-icon [icon]="iconS.getIcon('edit')"></fa-icon>
      </span>
    </div>
  </div>

  <ngb-accordion [closeOthers]="true" #acc="ngbAccordion">

    <ngb-panel *ngFor="let route of getSortedRoute()" id="{{route.vehicleId}}">

      <ng-template ngbPanelHeader>
        <div class="route-search-results__item-header center-center"
             (click)="acc.toggle(route.vehicleId)">
          <div>
            <div class="route-search-results__column-name"> </div>
            <app-vehicle-icon [vehicle]="routeS.getVehicleIconString(route)"></app-vehicle-icon>
            <div class="route-search-results__column-name">{{ getCustomVehicleName(route) }}</div>
          </div>
          <div>
            <div class="route-search-results__column-name">
              <fa-icon *ngFor="let i of getClouds(route)" [icon]="iconS.getIcon('cloud')"></fa-icon>
            </div>
            {{ routeS.getCo2Kilograms(route) | number: '1.2-2' }} kg
          </div>
          <div>
            <div class="route-search-results__column-name"><fa-icon [icon]="iconS.getIcon('clock')"></fa-icon></div>
            {{ routeS.getDurationString(route) }}
          </div>
        </div>
      </ng-template>

      <ng-template ngbPanelContent>
        <div class="route-search-results__item-content">
          <a [href]="routeS.getMapsLink(route)" class="btn btn-secondary" target="_blank">
            <fa-icon [icon]="iconS.getIcon('map')"></fa-icon>
            <span> Map</span>
          </a>
          <button type="button" class="btn btn-secondary" (click)="saveRoute(route)">Save</button>
        </div>
      </ng-template>

    </ngb-panel>

  </ngb-accordion>
</div>
